include ./config.d/*
include ./userconfig

# Display
bar { 
  swaybar_command waybar
}


# Border and Titlebar
default_border pixel 4

### Workspace Assignments
#for_window [class="Spotify"] move container to workspace $ws4
        
bindsym $mod+r mode "resize"

set $nag exec swaynagmode 
mode "nagmode" {
    bindsym $left $nag --select prev 
    bindsym $right $nag --select next 

    bindsym Left $nag --select prev 
    bindsym Right $nag --select next 

    bindsym Escape $nag --exit
    bindsym q $nag --exit

    bindsym Return $nag --confirm
    bindsym Ctrl+d mode "default"
}


for_window [app_id="firefox-trunk"] inhibit_idle fullscreen
for_window [title="Firefox\ --\ Sharing\ Indicator"] floating enable, sticky enable

#### Multi Display Config

# Assigning number for better mental map of monitors

# Assign workspaces to outputs
workspace $ws_d0 output $d0
workspace $ws_d1 output $d1
workspace $ws_d2 output $d2

exec swayidle -w \
         timeout 120 'swaylock -f' \
	 timeout 130 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
         before-sleep 'swaylock -f --grace 0'

# Don't sleep on lid close when external monitor connected
bindswitch --reload --locked lid:on output $laptop disable
bindswitch --reload --locked lid:off output $laptop enable
